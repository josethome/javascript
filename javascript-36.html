<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>Curso de Javascript</title>
	<style>
		#div1 {
			width: 100px;
			height: 100px;
			border: 1px solid #000;
			background-color: #fff;
			position: absolute;
			left: 0px;
			top: 0px;
		}
	</style>	
	<script>		
		
		// Solução desafio add event listener - parte II
		var px = 0;
		var py = 0;

		function move() {
			//var obj = document.getElementById("div1");
			var tecla = event.keyCode;

			//37 => Esquerda - 38 => Cima - 39 => Direita - 40 => Baixo
			if(tecla == 37) {
				px -= 10;
				obj.style.left = px + "px";
			} else if(tecla == 38) {
				py -= 10;
				obj.style.top = py + "px";
			} else if(tecla == 39) {
				px += 10;
				obj.style.left = px + "px";
			} else if(tecla == 40) {
				py += 10;
				obj.style.top = py + "px";
			} else if(tecla == 13) {
				obj.style.backgroundColor = "#fff";
				alert("Evento keydown removido");
				document.removeEventListener("keydown", move);				
			} 
		}

		function addClique() {
			document.addEventListener("keydown", move);
			obj.style.backgroundColor="#f00";
		}

		function iniciar() {
			obj = document.getElementById("div1");
			obj.addEventListener("click", addClique);
		}

		window.addEventListener("load", iniciar);

	</script>		
</head>
	<body> 
		<div id="div1"></div>
	</body>
</html>