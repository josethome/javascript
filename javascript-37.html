<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>Curso de Javascript</title>
	<style>
		#div1 {
			width: 100px;
			height: 100px;
			border: 1px solid #000;
			background-color: #f00;	
			position: absolute;
			left: 0px;
			right: 0px;		
		}
	</style>	
	<script>

		// base para movimentação de personagens em games
		var dx;
		var dy;
		var px;
		var py;
		var vel;
		var obj;
		var tmp;

		function iniciar() {
			dx  = 0;
			dy  = 0;
			px  = 0;
			py  = 0;
			vel = 1;
			obj = document.getElementById("div1");
			document.addEventListener("keydown", teclaDown);
			document.addEventListener("keyup", teclaUp);
			tmp = setInterval(enterFrame, 1);
		}

		// Quando a teclca for pressionada
		function teclaDown() {
			var tecla = event.keyCode;
			if(tecla == 37) {
				dx =- 1;
			} else if (tecla == 38) {
				dy =- 1;
			} else if (tecla == 39) {
				dx = 1;
			} else if (tecla == 40) {
				dy = 1;
			}
		}

		// Quando a tecla for liberada
		function teclaUp() {
			var tecla = event.keyCode;
			if(tecla == 37) {
				dx = 0;
			} else if (tecla == 38) {
				dy = 0;
			} else if (tecla == 39) {
				dx = 0;
			} else if (tecla == 40) {
				dy = 0;
			}
		}

		// Atualiza a posição dos elementos
		function enterFrame() {
			px += dx * vel;
			py += dy * vel;
			obj.style.left = px + "px";
			obj.style.top = py + "px";
		}

		window.addEventListener("load", iniciar);

	</script>		
</head>
	<body> 
		<div id="div1"></div>		
	</body>
</html>